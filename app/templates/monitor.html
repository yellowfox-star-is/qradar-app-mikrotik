<!DOCTYPE html>
<html>
<head>
    <title>MikroTik Monitor</title>

    <link rel="stylesheet" href="static/flatpickr.min.css">
    <script src="static/flatpickr.js"></script>

    <link href="static/styles.css" rel="stylesheet">
    <link href="static/horizontal_timeline.css" rel="stylesheet">

    <script src="{{ url_for('static', filename='jquery.js') }}"></script>
</head>

<body>
<div id="settings-bar" style="display: flex; align-items: start">
    <button id="load-button">Load Data</button>
    <input id="load-date" type="text" size="80" placeholder="Select Date...">
</div>

<script>
    flatpickr(document.getElementById("load-date"), {mode: "range", enableTime: true, altInput: true});
</script>

<div id="zulli-div"></div>
<div id="__root" onload="load_data()">
</div>

</body>

<!--script src="{{ url_for('static', filename='horizontal_timeline.js') }}"></script-->
<script src="{{ url_for('static', filename='log_visualization.js') }}"></script>

<script>
    var root_id = "__root"

    document.getElementById("load-button").onclick = function ()
    {
        var loadDateInput = document.getElementById("load-date");
        var daterange_string = loadDateInput.value.split(" to ");

        update_router_elements(root_id, daterange_string)
    };

    function zulli()
    {
        fetch('/test_func')
            .then((response) => response.json())
            .then((data) =>
            {
                document.getElementById("zulli-div").innerHTML += data.greeting;
            });
    }

    document.addEventListener("DOMContentLoaded", function ()
    {


    });


</script>

<style>
    .raw_container {
        height: 300px !important;
        overflow: auto !important;
    }
</style>

<!--
REUSED CODE
W3Schools
From: https://www.w3schools.com/howto/howto_js_accordion.asp
Date: 10. 03. 2023
-->

<style>
    .accordion {
        background-color: white;
        color: #444;
        cursor: pointer;
        padding: 2px;
        width: 100%;
        border: none;
        text-align: left;
        outline: none;
        font-size: 15px;
        transition: 0.4s;
    }

    .active, .accordion:hover {
        background-color: #ccc;
    }

    .panel {
        padding: 0 20px;
        display: none;
        background-color: white;
        overflow: hidden;


        border: none;
        text-align: left;
        outline: none;
        font-size: 15px;
    }
</style>

<script>

    function accordion_collapse()
    {
        this.classList.toggle("active");
        let panel = this.nextElementSibling;
        if (panel.style.display === "block")
        {
            panel.style.display = "none";
        }
        else
        {
            panel.style.display = "block";
        }
    }

    var acc = document.getElementsByClassName("accordion");
    var i;

    for (i = 0; i < acc.length; i++)
    {
        acc[i].addEventListener("click", accordion_collapse);
    }
</script>

<!-- END OF REUSED CODE -->

</html>